<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Products</title>
</head>
<body>
  <h1>Products</h1>
  <ul id="list"></ul>

  <script>
    async function load() {
      const res = await fetch('/api/products');
      const items = await res.json();
      const ul = document.getElementById('list');
      ul.innerHTML = items.map(p =>
        `<li><a href="/public/product_detail.html?id=${p.id}">${p.name || p.title || 'Product #' + p.id}</a></li>`
      ).join('');
    }
    load().catch(err => {
      document.body.insertAdjacentHTML('beforeend','<pre style="color:red">'+err.message+'</pre>');
    });
  </script>
</body>
</html>